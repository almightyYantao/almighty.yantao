<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Almighty.YanTao</title>
    <link>/posts/</link>
    <description>Recent content in Posts on Almighty.YanTao</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 16 Jun 2023 00:00:00 +0800</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>CentOS 7 å®‰è£… Confluence å¹¶ä¸”ç ´è§£</title>
      <link>/2023/06/16/centos-7-%E5%AE%89%E8%A3%85-confluence-%E5%B9%B6%E4%B8%94%E7%A0%B4%E8%A7%A3.html/</link>
      <pubDate>Fri, 16 Jun 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/06/16/centos-7-%E5%AE%89%E8%A3%85-confluence-%E5%B9%B6%E4%B8%94%E7%A0%B4%E8%A7%A3.html/</guid>
      <description>ç®€ä»‹ Confluenceæ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šçŸ¥è¯†ç®¡ç†ä¸ååŒè½¯ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ„å»ºä¼ä¸šwikiã€‚ä½¿ç”¨ç®€å•ï¼Œä½†å®ƒå¼ºå¤§çš„ç¼–è¾‘å’Œç«™ç‚¹ç®¡ç†ç‰¹å¾èƒ½å¤Ÿå¸®åŠ©å›¢é˜Ÿæˆå‘˜ä¹‹é—´å…±äº«ä¿¡æ¯ã€æ–‡æ¡£åä½œã€é›†ä½“è®¨è®ºï¼Œä¿¡æ¯æ¨é€ã€‚éƒ¨ç½²Confluenceå‰ï¼Œéœ€ç¡®è®¤æœåŠ¡å™¨å·²éƒ¨ç½²Nginx+MySQLç¯å¢ƒã€‚
æ­å»ºç¯å¢ƒ ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS Linux release 7.6.1810 (Core)
confluenceç‰ˆæœ¬ï¼šConfluence 7.13.4ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰
Javaç‰ˆæœ¬ï¼šjava-11-openjdk-devel.x86_64
confluenceè§£é™¤å·¥å…·ï¼šconfluence_keygen.jar
æ³¨ï¼šè§£é™¤å·¥å…·é“¾æ¥: https://pan.baidu.com/s/1po6wouAIZPHbMG39oKKMVw
æå–ç : guck
Mysql-serverç‰ˆæœ¬ï¼šmysql-community-server.x86_64 0:5.7.22-1.el7â€‹
mysql-connector-javaç‰ˆæœ¬ï¼šmysql-connector-java-5.1.49 æ³¨ï¼šä»¥ä¸Šæ’ä»¶ä¸‹è½½åœ°å€å¦‚ä¸‹æˆªå›¾å¯è‡ªé€‰ã€ç³»ç»Ÿç‰ˆæœ¬ã€‘å’Œã€æ’ä»¶ç‰ˆæœ¬ã€‘ï¼Œåˆ‡è®°ä¸è¦ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æ’ä»¶ï¼Œç”±äºå®˜ç½‘æ–‡æ¡£è¯´æ˜ä¸æ”¯æŒæœ€æ–°ç‰ˆï¼Œç„¶åæˆ‘ç‰¹æ„äº²æµ‹äº†ä¸€ä¸‹ç¡®å®ä¸æ”¯æŒï¼Œæœ€å¤§æ”¯æŒmysql-connector-java-5.1.x é«˜äºæ­¤ç‰ˆæœ¬éƒ½ä¸æ”¯æŒï¼Œå»ºè®®ä½¿ç”¨5.1.xç‰ˆæœ¬æ’ä»¶ï¼Œæ’ä»¶ä¸‹è½½åœ°å€ï¼šÂ https://downloads.mysql.com/archives/c-j/
å…³é—­é˜²ç«å¢™ systemctl stop firewalld.serviceâ€‹
ç¦æ­¢é˜²ç«å¢™å¼€æœºè‡ªå¯ systemctl disable firewalld.serviceâ€‹
å…³é—­ selinuxâ€‹ sed -i â€˜s/SELINUX=enforcing/SELINUX=disabled/gâ€™ /etc/selinux/config
é‡å¯ç³»ç»Ÿå³å¯ reboot
å®‰è£…æ•°æ®åº“ ä¸‹è½½mysqlæ•°æ®åº“ç¤¾åŒºyumæº 1 2 3 wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpmâ€‹ rpm -Uvh --force --nodeps mysql57-community-release-el7-10.noarch.rpm yum -y install mysql-community-server ä¿®æ”¹é…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 vi /etc/my.cnf [mysqld]ä¸‹æ·»åŠ å¦‚ä¸‹å­—æ®µ character-set-server=utf8mb4 collation-server=utf8mb4_bin default-storage-engine=INNODB max_allowed_packet=64M innodb_log_file_size=512M transaction-isolation=READ-COMMITTED binlog_format=row log_bin_trust_function_creators = 1 optimizer_switch = derived_merge=off å¯åŠ¨æ•°æ®åº“ 1 2 systemctl start mysqld systemctl enable mysqld åˆ›å»ºæ•°æ®åº“ 1 2 3 4 create database confluence default character set utf8mb4 collate utf8mb4_bin; grant all on confluence.</description>
    </item>
    
    <item>
      <title>VSphere VCenter 6.5ä»¥ä¸Šç‰ˆæœ¬å®‰è£…80%å¤±è´¥å¤„ç†</title>
      <link>/2023/05/19/vsphere-vcenter-6.5%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%8580%E5%A4%B1%E8%B4%A5%E5%A4%84%E7%90%86.html/</link>
      <pubDate>Fri, 19 May 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/05/19/vsphere-vcenter-6.5%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%8580%E5%A4%B1%E8%B4%A5%E5%A4%84%E7%90%86.html/</guid>
      <description>èµ·å›  VCenterç£ç›˜æ»¡ï¼Œæ‰‹è´±sshåˆ é™¤æ—¥å¿—åé‡å¯å¤±è´¥ï¼Œé€‰æ‹©é‡è£…ã€‚æ•…éšœï¼šVC6.5å®‰è£…å¡80%ï¼ŒåŸå› æ˜¯å®‰è£…åŒ…rootå¯†ç è¿‡æœŸäº†,rootä¸å¯ç”¨ã€‚è€Œä¸”æŒ‰ç…§æç¤ºä¿®æ”¹å¯†ç ä¸€ç›´æç¤º Th&amp;hellip;
æ•…éšœ VC6.5å®‰è£…å¡80%ï¼ŒåŸå› æ˜¯å®‰è£…åŒ…rootå¯†ç è¿‡æœŸäº†,rootä¸å¯ç”¨ã€‚è€Œä¸”æŒ‰ç…§æç¤ºä¿®æ”¹å¯†ç ä¸€ç›´æç¤º The password change operation failed.
è§£å†³ åœ¨80%æ—¶é€šè¿‡VSClientæ‰“å¼€VCå®¿ä¸»è™šæœºï¼ˆæ³¨æ„è¦åœ¨ç¬¬ä¸€æ—¶é—´æ‰“å¼€ï¼Œè€Œä¸æ˜¯å·²ç»æç¤ºé”™è¯¯ã€‚å‡ºç°é”™è¯¯æç¤ºåªèƒ½é‡æ–°å¼€å§‹å®‰è£…è€Œä¸èƒ½ç»§ç»­ï¼‰ é‡å¯åœ¨biosæ—¶æŒ‰eè¿›å…¥GNU GRUB Menu é€‰æ‹©linuxå¼€å¤´çš„è¿™ä¸€è¡Œï¼Œåœ¨æœ€åæ·»åŠ ç©ºæ ¼rw init=/bin/bashï¼Œç„¶åF10è¿›å…¥ è¾“å…¥mount -o remount,rw / å›è½¦ï¼ˆæ³¨æ„è¿™ä¸ªâ€/â€åˆ«ä¸¢äº†ï¼‰ passwd ä¸¤æ¬¡è¾“å…¥å¯†ç ï¼Œå»ºè®®ç”¨å®‰è£…æ—¶è®¾ç½®çš„å¯†ç  umount /ï¼ˆæ³¨æ„è¿™ä¸ªâ€/â€åˆ«ä¸¢äº†ï¼‰ reboot -f ä¸»è¦æ˜¯å› ä¸ºç³»ç»Ÿç‰ˆæœ¬çš„é—®é¢˜ï¼Œç½‘ä¸Šåˆ†äº«çš„ä¸€èˆ¬éƒ½æ˜¯ï¼š4602587 ç‰ˆæœ¬çš„ï¼Œè¿™ä¸ªç‰ˆæœ¬æœ‰ BUGï¼Œå¯ä»¥æ¢æˆ U1Gï¼ˆ8024368ï¼‰</description>
    </item>
    
    <item>
      <title>è§£å†³Nginx SSL ä»£ç† Tomcat è·å– Scheme æ€»æ˜¯ Http é—®é¢˜</title>
      <link>/2023/05/18/%E8%A7%A3%E5%86%B3nginx-ssl-%E4%BB%A3%E7%90%86-tomcat-%E8%8E%B7%E5%8F%96-scheme-%E6%80%BB%E6%98%AF-http-%E9%97%AE%E9%A2%98.html/</link>
      <pubDate>Thu, 18 May 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/05/18/%E8%A7%A3%E5%86%B3nginx-ssl-%E4%BB%A3%E7%90%86-tomcat-%E8%8E%B7%E5%8F%96-scheme-%E6%80%BB%E6%98%AF-http-%E9%97%AE%E9%A2%98.html/</guid>
      <description>èƒŒæ™¯ å…¬å¸ä¹‹å‰ç”¨çš„æ˜¯httpï¼Œä½†æ˜¯å‡ºäºè‹¹æœappå®¡æ ¸å’ŒæœåŠ¡å™¨å®‰å…¨æ€§é—®é¢˜ï¼Œè¦æ”¹ä¸ºhttpsï¼Œæˆ‘ä»¬å…¬å¸ç”¨çš„æ˜¯æ²ƒé€šçš„sslï¼ŒæŒ‰ç…§æ²ƒé€šçš„å®˜æ–¹æ–‡æ¡£æä¾›çš„æ­¥éª¤å®ŒæˆæœåŠ¡å™¨çš„é…ç½®ã€‚ æ¶æ„ä¸Šä½¿ç”¨äº† Nginx +tomcat é›†ç¾¤, ä¸”nginxä¸‹é…ç½®äº†SSL,tomcat æ²¡æœ‰é…ç½®SSL,é¡¹ç›®ä½¿ç”¨httpsåè®®ã€‚
åŸå›  é…ç½®æˆåŠŸåæ˜æ˜æ˜¯https urlè¯·æ±‚,å‘ç° logé‡Œé¢ï¼Œtomcatè·å–schemeçš„æ—¶å€™ï¼Œä¸€ç›´æ˜¯httpï¼Œè€Œä¸æ˜¯æƒ³åƒä¸­çš„https
1 2 3 4 5 6 7 8 0415 16:01:10 INFO (PaymentInterceptor.java:44) preHandle() - requestStringForLog: { &amp;#34;request.getRequestURL():&amp;#34;: &amp;#34;http://m.xxx.com/payment/paymentChannel?id=212&amp;amp;s=a84485e0985afe97fffd7fd7741c93851d83a4f6&amp;#34;, &amp;#34;request.getMethod:&amp;#34;: &amp;#34;GET&amp;#34;, &amp;#34;_parameterMap&amp;#34;: { &amp;#34;id&amp;#34;: [&amp;#34;212&amp;#34;], &amp;#34;s&amp;#34;: [&amp;#34;a84485e0985afe97fffd7fd7741c93851d83a4f6&amp;#34;] } } request.getRequestURL() è¾“å‡ºå‡ºæ¥çš„ ä¸€ç›´æ˜¯
http://m.xxx.com/payment/paymentChannel?id=212&amp;s=a84485e0985afe97fffd7fd7741c93851d83a4f6 ä½†æ˜¯æµè§ˆå™¨ä¸­çš„URLå´æ˜¯
https://m.xxx.com/payment/paymentChannel?id=212&amp;s=a84485e0985afe97fffd7fd7741c93851d83a4f6 ä¸‹é¢æˆ‘ä»¬è¿›ä¸€æ­¥ç ”ç©¶å‘ç°ï¼Œjava APIä¸Šå†™å¾—å¾ˆæ¸…æ¥š:
1 2 3 4 5 getRequestURL(): Reconstructs the URL the client used to make the request. The returned URL contains a protocol, server name, port number, and server path, but it does not include query string parameters.</description>
    </item>
    
    <item>
      <title>CentOS 7 &amp; 8 å¼€å¯BBRåŠ é€Ÿ</title>
      <link>/2023/04/24/centos-7-8-%E5%BC%80%E5%90%AFbbr%E5%8A%A0%E9%80%9F.html/</link>
      <pubDate>Mon, 24 Apr 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/04/24/centos-7-8-%E5%BC%80%E5%90%AFbbr%E5%8A%A0%E9%80%9F.html/</guid>
      <description> CentOS7 ä¸€é”®å¼€å¯åŠ é€Ÿè„šæœ¬ 1 wget -N --no-check-certificate &amp;#34;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&amp;#34; &amp;amp;&amp;amp; chmod +x tcp.sh &amp;amp;&amp;amp; ./tcp.sh å»ºè®®å®‰è£…ï¼šBBRé­”æ”¹åŠ é€Ÿ
CentOS8 å¼€å¯BBRåŠ é€Ÿ 1 2 3 4 echo &amp;#34;net.core.default_qdisc=fq&amp;#34; &amp;gt;&amp;gt; /etc/sysctl.conf echo &amp;#34;net.ipv4.tcp_congestion_control=bbr&amp;#34; &amp;gt;&amp;gt; /etc/sysctl.conf sysctl -p reboot æ£€æµ‹æ˜¯å¦å¼€å¯æˆåŠŸ 1 2 3 4 sysctl -n net.ipv4.tcp_congestion_control ã€‚ ## ä¼šè¿”å›bbr ã€‚ lsmod | grep bbr ## ä¼šè¿”å›tcp_bbr </description>
    </item>
    
    <item>
      <title>è§£å†³ wg-quick åœ¨ Mac ä¸Š bash 3 æ— æ³•è¿è¡Œçš„é—®é¢˜</title>
      <link>/2023/04/23/%E8%A7%A3%E5%86%B3-wg-quick-%E5%9C%A8-mac-%E4%B8%8A-bash-3-%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C%E7%9A%84%E9%97%AE%E9%A2%98.html/</link>
      <pubDate>Sun, 23 Apr 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/04/23/%E8%A7%A3%E5%86%B3-wg-quick-%E5%9C%A8-mac-%E4%B8%8A-bash-3-%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C%E7%9A%84%E9%97%AE%E9%A2%98.html/</guid>
      <description>é—®é¢˜åŸå›  æˆ‘å¯ä»¥ç†è§£ï¼Œå¼€å‘äººå‘˜ä¸æƒ³ä½¿ç”¨è‹¹æœä½¿ç”¨çš„æ—§bash v3ã€‚ä½†ä»ç”¨æˆ·çš„å¸–å­æ¥çœ‹ï¼Œå®‰è£…ä¸€ä¸ªè¾ƒæ–°çš„bashå¹¶ä¸é‚£ä¹ˆå¥½
æ‰€ä»¥æˆ‘çœ‹äº†wireguardçš„wg-quickã€‚éœ€è¦æ”¯æŒçš„å”¯ä¸€å˜åŒ–ï¼Œä¸¤ä¸ªbashç‰ˆæœ¬éƒ½æ˜¯ä¸ºäº†æ‘†è„±å…³è”æ•°ç»„SERVICE_DNSï¼Œå¹¶å¤„ç†v3çš„BASHPIDã€‚
è§£å†³æ–¹æ¡ˆ é‚£ä¹ˆå°±æœ‰äº†ä¸€ä¸‹çš„æ“ä½œ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 diff --git a/src/tools/wg-quick/darwin.</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨ Python ssh è¿œç¨‹ç™»é™†æœåŠ¡å™¨çš„æœ€ä½³æ–¹æ¡ˆ</title>
      <link>/2023/04/19/%E4%BD%BF%E7%94%A8-python-ssh-%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%96%B9%E6%A1%88.html/</link>
      <pubDate>Wed, 19 Apr 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/04/19/%E4%BD%BF%E7%94%A8-python-ssh-%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%96%B9%E6%A1%88.html/</guid>
      <description>åœ¨ä½¿ç”¨ Python å†™ä¸€äº›è„šæœ¬çš„æ—¶å€™ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é¢‘ç¹ç™»é™†è¿œç¨‹æœåŠ¡å»æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ï¼Œå¹¶è¿”å›ä¸€äº›ç»“æœã€‚
åœ¨ shell ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·å­åšçš„ã€‚
1 sshpass -p ${passwd} ssh -p ${port} -l ${user} -o StrictHostKeyChecking=no xx.xx.xx.xx &amp;#34;ls -l&amp;#34; ç„¶åä½ ä¼šå‘ç°ï¼Œä½ çš„è¾“å‡ºæœ‰å¾ˆå¤šä½ å¹¶ä¸éœ€è¦ï¼Œä½†æ˜¯åˆä¸å»ä¸æ‰çš„ä¸€äº›ä¿¡æ¯ï¼ˆä¹Ÿè®¸æœ‰æ–¹æ³•ï¼Œè¯·ç•™è¨€äº¤æµï¼‰ï¼Œç±»ä¼¼è¿™æ ·
1 2 3 4 5 6 host: xx.xx.xx.xx, port: xx Warning: Permanently added &amp;#39;[xx.xx.xx.xx]:xx&amp;#39; (RSA) to the list of known hosts. Login failure: [Errno 1] This server is not registered to rmp platform, please confirm whether cdn server. total 4 -rw-r--r-- 1 root root 239 Mar 30 2018 admin-openrc å¯¹äºç›´æ¥ä½¿ç”¨ shell å‘½ä»¤ï¼Œæ¥æ‰§è¡Œå‘½ä»¤çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç®¡é“ï¼Œæˆ–è€…å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶çš„æ–¹æ³•å–å¾—æ‰§è¡Œå‘½ä»¤è¿”å›çš„ç»“æœ</description>
    </item>
    
    <item>
      <title>hugo &#43; githubè‡ªåŠ¨åŒ–éƒ¨ç½²é™æ€åšå®¢</title>
      <link>/2023/04/18/hugo--github%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2.html/</link>
      <pubDate>Tue, 18 Apr 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/04/18/hugo--github%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2.html/</guid>
      <description>èƒŒæ™¯ åœ¨ä½¿ç”¨hugo + nginxæ­å»ºå¥½åšå®¢åï¼Œæ–‡ç« å¯ä»¥é€šè¿‡ftpä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶ååœ¨æœåŠ¡å™¨ä¸Šå†ç¼–è¯‘æˆç½‘é¡µï¼Œæˆ–è€…æœ¬åœ°æ­å»ºçš„hugoç¯å¢ƒï¼Œç¼–è¯‘å¥½ç½‘é¡µå†ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œè¿™æ ·åšè™½ç„¶ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¿™ä¹ˆå‘å¸ƒæ–‡ç« ï¼Œè‚¯å®šç©å‡ æ¬¡å°±ä¸æƒ³å¼„äº†ã€‚
ä½¿ç”¨webhookå°±èƒ½å®ç°è‡ªåŠ¨éƒ¨ç½²ï¼Œå…¶å®åŸç†å¾ˆç®€å•ã€‚ç†æƒ³çŠ¶æ€å°±æ˜¯æˆ‘æŠŠæˆ‘çš„myblogé¡¹ç›®æ‰˜ç®¡åˆ°githubï¼Œç„¶åæ¯æ¬¡æˆ‘å†™å®Œæ–‡ç« ç›´æ¥pushåˆ°githubä»“åº“ï¼Œwebhookç›‘å¬åˆ°æˆ‘çš„pushï¼Œç»™æˆ‘çš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªhttpè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åæ‰§è¡Œæœ¬åœ°shellè„šæœ¬ï¼Œè‡ªåŠ¨æ‹‰å–æœ€æ–°çš„ä»“åº“ä»£ç ï¼Œç„¶åæ‰§è¡Œhugoç¼–è¯‘æˆç½‘é¡µã€‚è¿™æ ·å°±å®ç°è‡ªåŠ¨éƒ¨ç½²å•¦!
æœåŠ¡å™¨ç¯å¢ƒé…ç½® node 1 2 3 4 5 6 cd ~ wget https://nodejs.org/dist/v14.17.3/node-v14.17.3-linux-x64.tar.xz tar -xvf node-v14.17.3-linux-x64.tar.xz cd node-v14.17.3-linux-x64/bin ln -s /root/node-v14.17.3-linux-x64/bin/node /usr/bin/ ln -s /root/node-v14.17.3-linux-x64/bin/npm /usr/bin/ æˆ‘æ˜¯centosç³»ç»Ÿï¼Œç›´æ¥å®‰è£…ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶äº†ï¼Œä¹‹å‰è¯•è¿‡è‡ªå·±ç¼–è¯‘ï¼Œè¦ç­‰å¥½ä¹…å°±æ”¾å¼ƒäº†
å®‰è£…å®Œåå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š
1 2 node -v npm -v pm2 1 2 3 npm install pm2@latest -g ln -s /root/node-v14.17.3-linux-x64/bin/pm2 /usr/bin/ pm2 -v é¡¹ç›®ä»£ç æ‰˜ç®¡åˆ°github åœ¨å¸¸ç”¨çš„æœ¬åœ°æœºå™¨ä¸Šå®‰è£…gitï¼Œmyblog ç›®å½•ä½œä¸º git ä»“åº“ï¼Œpush åˆ° github è¿›è¡Œå¤‡ä»½ã€‚ç”±äº public ç›®å½•ä¸‹çš„é™æ€ç½‘é¡µå®Œå…¨å¯ç”±å…¶ä½™æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆï¼Œå› æ­¤ä»“åº“å¯ä»¥æ’é™¤ public ç›®å½•ã€‚
1 2 3 4 5 touch .</description>
    </item>
    
    <item>
      <title>é€šè¿‡iptablesè¿›è¡Œwireguardçš„æƒé™ç®¡ç†</title>
      <link>/2023/04/18/%E9%80%9A%E8%BF%87iptables%E8%BF%9B%E8%A1%8Cwireguard%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html/</link>
      <pubDate>Tue, 18 Apr 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/04/18/%E9%80%9A%E8%BF%87iptables%E8%BF%9B%E8%A1%8Cwireguard%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html/</guid>
      <description>ä¸€ã€èƒŒæ™¯ ç”±äºç›®å‰openvpnçš„å¼€æºæ–¹æ¡ˆï¼Œé“¾æ¥VPNå¦‚æœè·¯ç”±è¿‡å¤šçš„è¯ä¼šå¯¼è‡´é“¾æ¥é€Ÿåº¦å˜æ…¢ï¼Œæ•ˆæœéå¸¸çš„ä¸ç†æƒ³ï¼Œå¹¶ä¸”å½“iptablesè§„åˆ™å¤šçš„æ—¶å€™ï¼Œè½¬å‘æ˜æ˜¾æ€§èƒ½ä¸‹é™ï¼›
å‡†å¤‡é‡‡ç”¨wireguardçš„æ–¹å¼æ¥ä»£æ›¿openvpnçš„éš§é“åè®®ï¼Œä½†æ˜¯wireguardç›®å‰æ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æƒé™ç®¡ç†æ–¹æ¡ˆï¼›
äºŒã€æœåŠ¡ç«¯ 2.1ã€å®‰è£…wireguard 1 curl -O https://raw.githubusercontent.com/atrandys/wireguard/master/wg_mult.sh &amp;amp;&amp;amp; chmod +x wg_mult.sh &amp;amp;&amp;amp; ./wg_mult.sh 2.2ã€è®¾ç½®è®¿é—®æƒé™ ç¯å¢ƒå˜é‡ï¼šWG_PEER_IPå¯ä»¥è·å–è¿æ¥ç€çš„IPåœ°å€
1 2 PostUp = /path/to/script.sh PostDown = /path/to/teardown.sh ç„¶ååœ¨æ ¹æ®æƒ…å†µè®¾ç½®ipsetå’Œiptables
2.3ã€è„šæœ¬æ¡ˆä¾‹ /path/to/script.sh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 #!/bin/bash result=$(curl -s &amp;#34;VPNåç«¯è¿æ¥æ¥å£åœ°å€&amp;#34; | jq &amp;#39;.d&amp;#39;) permissionsAccept=($(jq &amp;#39;.accept[]&amp;#39; &amp;lt;&amp;lt;&amp;lt;$result)) permissionsDrop=($(jq &amp;#39;.drop[]&amp;#39; &amp;lt;&amp;lt;&amp;lt;$result)) # åˆ›å»ºæ–°çš„ipsetç»„ ipset create $WG_PEER_IP hash:ip ipset create ${WG_PEER_IP}-drop hash:ip for ((i=0;i&amp;lt;${#permissionsAccept[@]};i++)) do ipset add $WG_PEER_IP ${permissionsAccept[$i]//\&amp;#34;/} done for ((i=0;i&amp;lt;${#permissionsDrop[@]};i++)) do ipset add ${WG_PEER_IP}-drop ${permissionsDrop[$i]//\&amp;#34;/} done # è®¾ç½®iptablesç”Ÿæ•ˆè§„åˆ™ iptables -A FORWARD -s $WG_PEER_IP -m set --match-set ${WG_PEER_IP}-drop dst -j DROP iptables -A FORWARD -s $WG_PEER_IP -m set --match-set $WG_PEER_IP dst -j ACCEPT # å‰©ä½™æ²¡æœ‰åŒ¹é…åˆ°çš„å…¨éƒ¨æ‹’ç» iptables -A FORWARD -s $WG_PEER_IP -j DROP if [ $code = -1 ];then exit 1 ; fi /path/to/teardown.</description>
    </item>
    
    <item>
      <title>linuxé€šè¿‡SNMPæ£€æµ‹TCP&amp;UDPè¿æ¥æ•°</title>
      <link>/2023/03/11/linux%E9%80%9A%E8%BF%87snmp%E6%A3%80%E6%B5%8Btcpudp%E8%BF%9E%E6%8E%A5%E6%95%B0.html/</link>
      <pubDate>Sat, 11 Mar 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/03/11/linux%E9%80%9A%E8%BF%87snmp%E6%A3%80%E6%B5%8Btcpudp%E8%BF%9E%E6%8E%A5%E6%95%B0.html/</guid>
      <description>å…ˆä¸Šå›¾&amp;amp;ä»‹ç» è®°å½•ä¸€æ¬¡å…¨çƒåŒ–ç½‘ç»œç›‘æ§çš„çœ‹æ¿å»ºè®¾ï¼› ä¹‹å‰éƒ½æ˜¯é€šè¿‡zabbixæ¥è¿›è¡Œå»ºè®¾çœ‹æ¿ï¼Œä½†æ˜¯ç”¨äº†ä¸€æ®µæ—¶é—´åæ€»æ˜¯ç¼ºç‚¹æ„Ÿè§‰ï¼›åé¢é€šè¿‡å¤§ä½¬çš„ä»‹ç»ï¼Œè¯•ç”¨äº†Grafanaï¼Œè¿™ä¸è¯•ç”¨è¿˜å¥½ï¼Œä¸€è¯•ç”¨ï¼Œæ•ˆæœçš„å±•ç°è®©æˆ‘æ— æ³•è‡ªæ‹”ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³è¦çš„ç›‘æ§çœ‹æ¿å•Šï¼èƒ½æ ¹æ®æ•°å€¼çš„ä¸åŒè¿›è¡Œé¢œè‰²çš„åŒºåˆ†ï¼Œåœ¨å¤§å±ä¸Šä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºå½“å‰å“ªä¸€å—ç½‘ç»œå‡ºç°äº†é—®é¢˜ï¼
ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œä¸Šé¢çš„ä¸¤åˆ—ä¸èƒ½è®¾ç½®æŠ¥è­¦ï¼ŒæŠ¥è­¦è²Œä¼¼å¿…é¡»æ˜¯å›¾è¡¨å½¢å¼çš„æ‰å¯ä»¥ï¼›ä¸è¿‡å¯ä»¥å»ºç«‹ä¸€ä¸ªé€šç”¨çš„æŠ¥è­¦çœ‹æ¿ï¼Œé—®é¢˜ä¸å¤§ï½
å…¶ä»–çš„ä¸€äº›ç›‘æ§é¡¹éƒ½æ˜¯æœ€ç®€å•åŸºç¡€çš„ï¼Œæˆ‘è¿™è¾¹å°±ä¸è¿‡å¤šçš„èµ˜è¿°ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¸Šç½‘æœç´¢ï¼Œæˆ–è€…ä¹‹å‰å¼•ç”¨ä¹‹å‰zabbixçš„æ•°æ®ï¼Œä¸»è¦è®²è§£ä¸‹TCPè¿æ¥æ•°å’ŒUDPè¿æ¥æ•°çš„è·å–
åˆ«çš„ä¸è¯´ï¼Œè¿™å›¾è¿˜æ˜¯å¾ˆå¥½çœ‹çš„ï¼› å‡†å¤‡ SNMP è‡ªå®šä¹‰OID snmpå®‰è£… 1 2 3 yum install net-snmp systemctl start snmpd systemctl enable snmpd ä¿®æ”¹é…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 # ä¿®æ”¹å›¢ä½“å com2sec notConfigUser default xxxxx # view systemview included .1.3.6.1.2.1. ï¼ˆè¿™ä¸¤è¡Œæ³¨é‡Šï¼‰ # view systemview included .1.3.6.1.2.1.25.1.1 # è¿™ä¸¤è¡Œæ–°å¢ï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡æ¯ï¼Œè¦ä¸ç„¶åªèƒ½æŸ¥çœ‹ä¸Šé¢é‚£ä¸¤ä¸ªæŒ‡å®šçš„ä¿¡æ¯ view all included . view systemview included .1 åˆ›å»ºè·å–è¿æ¥æ•°è„šæœ¬ 1 2 3 4 #!/bin/bash echo $2 echo integer echo $(netstat -an|awk &amp;#39;/^tcp/ {++s[$NF]} END {for(a in s ) print a,s[a]}&amp;#39; | grep ESTABLISHED | awk &amp;#39;{print $2}&amp;#39;) è¿™ä¸ªæ˜¯è·å–TCPè¿æ¥æ•°çš„è„šæœ¬ï¼Œå¦‚æœè¦è·å–UDPçš„ï¼Œè¯·æŠŠtcpæ”¹æˆudp è®¾ç½®è„šæœ¬æƒé™</description>
    </item>
    
    <item>
      <title>Obsidian å…è´¹çš„å®æ—¶åŒæ­¥æœåŠ¡</title>
      <link>/2023/03/06/obsidian-%E5%85%8D%E8%B4%B9%E7%9A%84%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1.html/</link>
      <pubDate>Mon, 06 Mar 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/03/06/obsidian-%E5%85%8D%E8%B4%B9%E7%9A%84%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1.html/</guid>
      <description>ä½¿ç”¨ fly.io å…è´¹è®¡åˆ’éƒ¨ç½²æˆ–è‡ªæ‰˜ç®¡æ•°æ®åº“ï¼Œè¿›è¡Œ LiveSync æ’ä»¶çš„ä¸€ç³»åˆ—é…ç½®åå®ç°å„è®¾å¤‡é—´ Obsidian å®æ—¶å¢é‡ä¿®æ”¹åŒæ­¥ï¼Œå¯ä»¥å’Œå®˜æ–¹åŒæ­¥æœåŠ¡ç›¸åª²ç¾ã€‚
ä½¿ç”¨ fly.io è¿™æ¬¡ä½¿ç”¨çš„æ˜¯Â fly.io çš„å…è´¹è®¡åˆ’ï¼Œfly.io æ˜¯ä¸€ä¸ª SAASï¼ˆæ˜¯ï¼ˆPlatform as a Serviceï¼‰çš„ç¼©å†™ï¼Œæ˜¯æŒ‡å¹³å°å³æœåŠ¡ï¼‰å¹³å°ï¼Œå¯ä»¥æ­å»ºå¦‚é™æ€åšå®¢ã€Nextjsã€Nuxtjsã€Denoã€Goã€Python ç­‰åº•å±‚çš„å„ç§å„æ ·çš„æœåŠ¡ã€‚ä½†é¦–å…ˆéœ€è¦è‡ªå·±æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Github ç™»å½•ã€‚ æ³¨æ„ï¼šfly.io çš„ä½¿ç”¨éœ€è¦ç»‘å¡ï¼Œå¦‚æœæ²¡æœ‰ç»‘å¡ä¼šåœ¨åˆ›å»ºåº”ç”¨ ç« èŠ‚å‡ºç°Â ErrorÂ æç¤ºã€‚ç»‘å¡è¿‡ç¨‹è¯·åœ¨Â fly.io é¢æ¿ ä¸­Â BillingÂ è¿›è¡Œã€‚æ­£å¸¸ä½¿ç”¨å›½å†…çš„åŒå¸å¡å°±å¯ä»¥ï¼Œæ³¨æ„è¯·å¦‚å®å¡«å†™ä¿¡æ¯ã€‚æ²¡æœ‰å¡çš„æœ‹å‹å¯ä»¥å»å„é“¶è¡ŒåŠä¸€å¼ ï¼ˆè¶…å¥½è¿‡çš„ğŸ˜—ï¼‰æˆ–è¯•è¯•è™šæ‹Ÿå¡ï¼Ÿï¼ˆè™šæ‹Ÿå¡åªæ˜¯åšä¸»æƒ³åˆ°çš„ä¸€ç§æ–¹æ¡ˆï¼Œæ²¡æœ‰è¯•è¿‡ï¼‰
å®‰è£… flyctl Windows ç”¨æˆ·åœ¨æœ¬åœ°æ‰“å¼€ PowerShell æˆ– Windows ç»ˆç«¯ğŸ’»ï¼Œè¾“å…¥ï¼š
1 iwr https://fly.io/install.ps1 -useb | iex æ³¨æ„ï¼šCMD ä¸­ä¸æ”¯æŒä¸Šé¢çš„å‘½ä»¤ï¼Œå¦‚æœç”µè„‘ä¸­åªæœ‰ CMDï¼Œæˆ–è®¸ä½ éœ€è¦å®‰è£…Â PowerShell ï¼ˆé€‰æ‹© latest ç‰ˆæœ¬ï¼‰æˆ–Â Windows ç»ˆç«¯ ã€‚
æœ¬åœ°ç™»å½• 1 flyctl auth signup ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è¿›è¡ŒéªŒè¯è´¦æˆ·æ“ä½œã€‚
åˆ›å»ºåº”ç”¨ åœ¨æœ¬åœ°ä»»æ„ä½ç½®åˆ›å»ºä¸€ä¸ª fly.io çš„å·¥ä½œç›®å½•ï¼ˆå…¶å®å°±æ˜¯åˆ›å»ºä¸ªèƒ½æ‰¾åˆ°çš„æ–‡ä»¶å¤¹ï¼Œä½ ä¸ä¼šæ”¾æ¡Œé¢ä¸Šäº†å§ğŸ˜‚ï¼Ÿï¼‰ã€‚
1 2 3 4 mkdir fly.io cd fly.</description>
    </item>
    
    <item>
      <title>é€šè¿‡ Haproxy å®ç° Shadowshadows è´Ÿè½½å‡è¡¡</title>
      <link>/2023/03/05/%E9%80%9A%E8%BF%87-haproxy-%E5%AE%9E%E7%8E%B0-shadowshadows-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html/</link>
      <pubDate>Sun, 05 Mar 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/03/05/%E9%80%9A%E8%BF%87-haproxy-%E5%AE%9E%E7%8E%B0-shadowshadows-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html/</guid>
      <description>ä»‹ç» ç¼ºç‚¹ï¼šæ‰€æœ‰çš„SSçš„åŠ å¯†æ–¹å¼å’Œå¯†ç å¿…é¡»ä¸€è‡´ ä»‹ç»ï¼šHAProxyæ˜¯ä¸€ä¸ªä½¿ç”¨Cè¯­è¨€ç¼–å†™çš„è‡ªç”±åŠå¼€æ”¾åŸå§‹ç è½¯ä»¶ï¼Œå…¶æä¾›é«˜å¯ç”¨æ€§ã€è´Ÿè½½å‡è¡¡ï¼Œä»¥åŠåŸºäºTCPå’ŒHTTPçš„åº”ç”¨ç¨‹åºä»£ç†ã€‚
å®‰è£…Haproxy 1 yum install haproxy é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 global chroot /var/lib/haproxy pidfile /var/run/haproxy.pid user haproxy group haproxy defaults mode tcp #æœåŠ¡å™¨é»˜è®¤çš„å·¥ä½œæ¨¡å¼ balance roundrobin #æœåŠ¡å™¨é»˜è®¤ä½¿ç”¨çš„å‡è¡¡æ¨¡å¼ retries 3 #ä¸‰æ¬¡è¿æ¥å¤±è´¥è¡¨ç¤ºæœåŠ¡å™¨ä¸å¯ç”¨ maxconn 5000 #æœ€å¤§è¿æ¥æ•° timeout connect 500ms #è¿æ¥è¶…æ—¶ timeout client 3s #å®¢æˆ·ç«¯è¶…æ—¶ timeout server 3s #æœåŠ¡å™¨è¶…æ—¶ listen WebPanel mode http #è¿™é‡Œä½¿ç”¨HTTPæ¨¡å¼ bind 10.</description>
    </item>
    
    <item>
      <title>OpenWrtå¤šæ‹¨ä½¿ç”¨æ•™ç¨‹</title>
      <link>/2023/02/28/openwrt%E5%A4%9A%E6%8B%A8%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html/</link>
      <pubDate>Tue, 28 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/28/openwrt%E5%A4%9A%E6%8B%A8%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html/</guid>
      <description> å¤šæ‹¨ç±» å¤šæ‹¨ç›¸å…³çš„æ’ä»¶ä¸»è¦æ˜¯Â å¤šçº¿å¤šæ‹¨Â å’ŒÂ è´Ÿè½½å‡è¡¡Â æ’ä»¶ã€‚
SyncdialÂ å¤šçº¿å¤šæ‹¨ ä½¿ç”¨macvlané©±åŠ¨åˆ›å»ºå¤šä¸ªè™šæ‹ŸWANå£ï¼Œæ”¯æŒå¹¶å‘å¤šæ‹¨
1 opkg install luci-app-syncdial MWAN3è´Ÿè½½å‡è¡¡ æ”¯æŒå¤šæ ¹ç½‘çº¿æˆ–è€…å¤šä¸ªPPPOEè´¦å·çš„åŒæ—¶æ‹¨å·ä½¿ç”¨å’Œè´Ÿè½½å‡è¡¡ã€‚å¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡Pingæ–¹å¼æ¥æ£€æµ‹ä¸­æ–­çº¿è·¯å¹¶è‡ªåŠ¨å±è”½ä¸­æ–­çº¿è·¯
1 opkg install luci-i18n-mwan3-zh-cn å…¶ä»– å¦‚å‘ç°æ— æ³•å®‰è£…æˆ–æ›´æ–°ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œ
æ›´æ–°OPKGè½¯ä»¶åˆ—è¡¨ 1 opkg update </description>
    </item>
    
    <item>
      <title>Python ChatGPT Telegram Bot</title>
      <link>/2023/02/21/python-chatgpt-telegram-bot.html/</link>
      <pubDate>Tue, 21 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/21/python-chatgpt-telegram-bot.html/</guid>
      <description>æ³¨å†Œ è¿™é‡Œå¦‚ä½•æ³¨å†Œæˆ‘å°±ä¸è¯´æ˜äº†ï¼Œå¤§å®¶è‡ªè¡Œå»æ³¨å†Œï¼Œä¸»è¦æ˜¯ç°åœ¨GPTçš„åŸºæœ¬ä¸Šå·²ç»å¤‡ç”¨å¾ˆå¤šäº†ï¼Œå¯¼è‡´äº†æ¥ç çš„ä»·æ ¼ä¹Ÿä¸Šæ¶¨äº†ï¼Œè€Œä¸”ä½¿ç”¨tokençš„è¯ï¼Œå…¶å®è¿˜æ˜¯å¾ˆå¿«å¯ä»¥ç”¨å®Œå…è´¹çš„18ç¾é‡‘ï¼› æ¥ç ï¼šhttps://sms-activate.org/
å‡†å¤‡ææ–™ ä¸»è¦æä¾›ä¸‹Pythonçš„å®ç°ä»£ç ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸‹çš„ä¸œè¥¿ï¼š
Telegram Bot çš„ Key ï¼šæ‰¾æœºå™¨äººçˆ¸çˆ¸è·å– ChatGPT çš„ API Key ï¼š https://platform.openai.com/account/api-keys è„šæœ¬ï¼š {% codeblock &amp;ldquo;main.py&amp;rdquo; lang:python &amp;gt;folded %}
1. Start by importing the necessary libraries and setting up the API clients import requests
import json
import os
import threading
OpenAI secret Key API_KEY = &amp;lsquo;xxxxxxxxx&amp;rsquo;
Models: text-davinci-003,text-curie-001,text-babbage-001,text-ada-001 MODEL = &amp;rsquo;text-davinci-003&#39;
Telegram secret access bot token BOT_TOKEN = &amp;lsquo;xxxxxxxxxxxxx&amp;rsquo;
Defining the bot&amp;rsquo;s personality using adjectives BOT_PERSONALITY = &#39;&#39;</description>
    </item>
    
    <item>
      <title>curl æ£€æµ‹ä»£ç†çš„å¯ç”¨æ€§ä»¥åŠå»¶è¿Ÿ</title>
      <link>/2023/02/20/curl-%E6%A3%80%E6%B5%8B%E4%BB%A3%E7%90%86%E7%9A%84%E5%8F%AF%E7%94%A8%E6%80%A7%E4%BB%A5%E5%8F%8A%E5%BB%B6%E8%BF%9F.html/</link>
      <pubDate>Mon, 20 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/20/curl-%E6%A3%80%E6%B5%8B%E4%BB%A3%E7%90%86%E7%9A%84%E5%8F%AF%E7%94%A8%E6%80%A7%E4%BB%A5%E5%8F%8A%E5%BB%B6%E8%BF%9F.html/</guid>
      <description>èƒŒæ™¯ åœ¨åŠå…¬ç½‘çš„ä»£ç†ç¿»å¢™çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸æ²¡åŠæ³•ç¬¬ä¸€æ—¶é—´çŸ¥é“ä»£ç†å¤±æ•ˆäº†ï¼Œå› ä¸ºæˆ‘ä»¬è‡ªèº«ä¸æ˜¯é«˜ç”¨çš„ç”¨æˆ·ï¼Œæ¯æ¬¡æŒ‚äº†éƒ½éœ€è¦å‘˜å·¥æ¥åé¦ˆï¼Œä½“æ„Ÿéå¸¸çš„ä¸å¥½ï¼Œå› æ­¤æƒ³ç€å¯ä»¥é€šè¿‡zabbixå¦‚æœæŠŠå½“å‰çš„å»¶è¿Ÿã€å¯ç”¨æ€§æ£€æµ‹èµ·æ¥
é€šè¿‡Curl æ£€æµ‹Googleçš„å»¶è¿Ÿ è¿™é‡Œä¸ºå•¥æ˜¯curlè€Œä¸æ˜¯pingï¼Œå› ä¸ºé»˜è®¤pingäº‹ä¸æ”¯æŒä»£ç†çš„ï¼Œç„¶è€Œcurlä¹Ÿå¯ä»¥åšåˆ°çœŸæ­£çš„æ˜¯å¦å¯ç”¨
1 curl -o /dev/null -x socks5h://127.0.0.1:12126 -s --connect-timeout 5 -w %{time_starttransfer}&amp;#34;\n&amp;#34; $1 socks5hçš„åœ°å€éœ€è¦æ”¹æˆä½ çš„ä»£ç†åœ°å€
1 2 3 4 5 6 7 8 9 10 # è·å–å½“å‰ä»£ç†çš„å¯ç”¨æ€§ ```bash url=$1 result=($(curl -x socks5h://localhost:12126 -I -s --connect-timeout 5 ${url} | head -1 | tr &amp;#34;\r&amp;#34; &amp;#34;\n&amp;#34;)) if [ &amp;#34;${result[1]}&amp;#34; == $2 -a &amp;#34;${result[2]}&amp;#34; == &amp;#39;OK&amp;#39; ] then echo 1 else echo 0 fi zabbixæ“ä½œè„šæœ¬ 1 2 3 4 5 # å»¶è¿Ÿ UserParameter=googleTime[*],/etc/zabbix/script/googleTime.</description>
    </item>
    
    <item>
      <title>è®°å½•ä¸€æ¬¡åŠå…¬ç½‘å…¨çƒåŒ–çš„æ”¹é€ è®¡åˆ’</title>
      <link>/2023/02/17/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%8A%9E%E5%85%AC%E7%BD%91%E5%85%A8%E7%90%83%E5%8C%96%E7%9A%84%E6%94%B9%E9%80%A0%E8%AE%A1%E5%88%92.html/</link>
      <pubDate>Fri, 17 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/17/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%8A%9E%E5%85%AC%E7%BD%91%E5%85%A8%E7%90%83%E5%8C%96%E7%9A%84%E6%94%B9%E9%80%A0%E8%AE%A1%E5%88%92.html/</guid>
      <description>èƒŒæ™¯ åŠå…¬ç½‘æ¯æ¬¡å»æµ·å¤–æ‰¾èµ„æ–™éƒ½éœ€è¦é‡æ–°è¿æ¥VPNï¼Œæˆ–è€…è‡ªå·±è¿æ¥è‡ªå·±ä¹°çš„å°é£æœºä¹‹ç±»çš„æ‰å¯ä»¥ã€‚ä½†æ˜¯è¿™ç§åœ¨äº’è”ç½‘å…¬å¸å†…çš„è¯ï¼Œéå¸¸çš„ä¸å‹å¥½ï¼›ä¸ºå…¬å¸å·¥ä½œè¿˜è¦è‡ªå·±èŠ±é’±ä¹°å°é£æœºï½
ä¹‹å‰å°è¯•è¿‡ä¸‹é¢è¿™ç§æ–¹å¼ï¼š æ–°å¢ä¸€å°æµ·å¤–çš„æœºå™¨ï¼ˆæ–°åŠ å¡ã€é¦™æ¸¯ï¼‰æ­å»ºSS/v2ray/trojanä¹‹ç±»çš„åè®®ï¼Œç„¶ååŠå…¬ç½‘æ–°å¢ä¸€ä¸ªè½¯è·¯ç”±å»è¿æ¥ï¼Œé€šè¿‡ACLæŠŠéƒ¨åˆ†IPçš„ç”¨æˆ·è·³è½¬è¿‡å»ï¼› ä½†æ˜¯è¿™ç§æ–¹å¼è‡ªå·±å®¶é‡Œç”¨ç”¨è¿˜è¡Œï¼Œå¦‚æœæƒ³è¦åœ¨ä¼ä¸šçš„åŠå…¬ç½‘æ¥ä½¿ç”¨çš„è¯ï¼Œäººä¸€å¤šå°±ä¸è¡Œï¼Œå› ä¸ºæ‰€æœ‰äººéƒ½ä»è¿™ä¸ªIPå‡ºå»äº†ï¼Œè€Œä¸”æ¯æ¬¡éƒ½éœ€è¦å‘½ä»¤è¡Œå»æ“ä½œACLå¢åŠ ç”¨æˆ·ï¼Œéå¸¸çš„éº»çƒ¦ï¼›
Panabit çš„ iWAN ä¸ºäº†è§£å†³å‰é¢çš„è¿™ç§æ–¹å¼ï¼Œå†³å®šæµ‹è¯•ä½¿ç”¨ Panabit çš„ Iwan çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ Panabit çš„ SD-WANï¼›
é‡è¿é€Ÿåº¦å¾ˆå¿«ï¼š
æ¯”L2TPçš„è¦å¿«ä¸€ä¸ªæ•°é‡çº§ï¼ŒL2TPè¦é‡è¿ï¼Œéœ€è¦æœ‰å‡ åæ¬¡äº¤äº’ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦ä¸€æ¬¡å³å¯ å®¢æˆ·ç«¯ä¸å—åº•å±‚æ‰¿è½½çº¿è·¯IPå˜åŒ–å½±å“ï¼š
å½“åº•å±‚æ‰¿è½½çº¿è·¯ï¼ˆæ¯”å¦‚PPPOEæ‹¨å·çº¿è·¯ï¼‰çš„IPåœ°å€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ä¼šå½±å“iWANéš§é“ï¼ŒiWANéš§é“ä¸ä¼šä¸­æ–­ï¼Œä¿è¯é€šä¿¡æ­£å¸¸è¿›è¡Œï¼›
å› ä¸ºå¾ˆå¤šç”¨æˆ·æ˜¯é€šè¿‡PPPOEæ‹¨å·çº¿è·¯å‡ºå»çš„ï¼ŒPPPOEæ‹¨å·çº¿è·¯é‡æ‹¨æ—¶ä¸€èˆ¬ä¼šæ”¹å˜IPåœ°å€ï¼Œå¦‚æœç”¨L2TPçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªL2TPä¼šè¯å°±è¦é‡å»ºï¼›
è€Œç”¨iWANçš„è¯ï¼Œç°æœ‰çš„ä¼šè¯å¯ä»¥ç…§å¸¸ä½¿ç”¨ï¼Œä¸éœ€è¦åšä»»ä½•æ”¹å˜ï¼› ä¼ è¾“æ•ˆç‡é«˜ï¼š
iWANçš„åŒ…å¤´å¾ˆå°ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ï¼Œè€Œä¸”åœ¨åç»­ç‰ˆæœ¬é‡Œï¼Œæˆ‘ä»¬ä¼šå‹ç¼©IPæŠ¥æ–‡å¤´ï¼Œè¿™æ ·å¯ä»¥ç»§ç»­å‡å°‘é¢å¤–æŠ¥æ–‡å¤´çš„å¤§å°ï¼Œæ‰€ä»¥èƒ½å¤§å¹…åº¦æå‡ä¼ è¾“æ•ˆç‡ï¼›
å¦‚æœç”¨å›½é™…çº¿è·¯çš„è¯ï¼ŒèŠ‚çœä¸‹æ¥çš„æµé‡è´¹ç”¨éƒ½æ˜¯å¾ˆå¯è§‚çš„ï¼› æŠ—å¹²æ‰°ï¼š
ä¸åƒL2TPï¼Œä¸­é—´äººå¯ä»¥ç›´æ¥å‘åŒ…TERMINATEï¼ŒiWANæ§åˆ¶å‘½ä»¤æœ‰å®Œæ•´æ€§æ£€æŸ¥ï¼Œå¯ä»¥é¿å…ä¸­é—´äººæ”»å‡»ã€‚ éƒ¨ç½² 1ã€æ­å»ºpanabit è®°å¾—æœåŠ¡å™¨ç”³è¯·2Hçš„ï¼Œ1Héœ€è¦éœ€æ”¹æ ¸å¿ƒï¼Œéå¸¸éº»çƒ¦ ä¸‹è½½Linuxç³»ç»Ÿæ–‡ä»¶ï¼šæ–‡æœ« ä¸Šä¼ æ–‡ä»¶åˆ°rootæ ¹ç›®å½•ä¸‹
1 2 3 4 tar -xzf PanabitFREE_SUIr2p3_20220413_Linux3.tar.gz cd PanabitFREE_SUIr2p3_20220413_Linux3 # è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£… ./ipeinstall ä¿®æ”¹/etc/PG.confæ–‡ä»¶ å› ä¸ºæ˜¯å•ç½‘å£ï¼Œæ‰€ä»¥æ•°æ®å£å’Œç®¡ç†å£éƒ½éœ€è¦é…ç½®æˆeth0ï¼Œåé¢ä¸è¦åŠ ä»»ä½•ä¸œè¥¿
1 DATA_PORTS ä¿®æ”¹æˆï¼šDATA_PORTS=&amp;#34;eth0&amp;#34; ä¿®æ”¹ç«¯å£ ä¸Šä¼ æ–‡ä»¶ï¼Œä¿®æ”¹é…ç½® éœ€è¦ä¸Šä¼ ä¸€ä¸ªjoskmcæ–‡ä»¶ï¼ˆæ–‡ä»¶åœ¨æ–‡æœ«ï¼‰ åœ¨/etc/PG.confä¸­æ–°å¢ä¸€ä¸‹ä¸€è¡Œ
1 HTTPS_PORT=2194 æ‰§è¡Œjoskmc 1 /root/joskmc tcpÂ 2194 ä¿®æ”¹ï¼š/etc/rc.localï¼Œå¢åŠ ä¸€ä¸‹ä¸‰è¡Œ 1 2 sleepÂ 10 /root/joskmc tcpÂ 2194 2ã€è¿›è¡Œéš§é“é…ç½®ï¼ˆæµ·å¤–ï¼‰ (1)ã€ç™»å½•WEBé¡µé¢ï¼Œä¿®æ”¹ç½‘å¡æ–¹å‘ é»˜è®¤è´¦å·å¯†ç ï¼šadmin/panabit ç³»ç»Ÿæ¦‚å†µ â†’ ç½‘ç»œæ¥å£ï¼šeth0ï¼Œä¿®æ”¹æˆå¯¹å¤–ï¼Œåªæœ‰å¯¹å¤–æ‰å¯ä»¥åˆ›å»ºWANçº¿è·¯ (2)ã€åˆ›å»ºWANçº¿è·¯ åº”ç”¨è·¯ç”± â†’ æ¥å£çº¿è·¯ï¼š éœ€è¦æ³¨æ„ï¼ŒMacåœ°å€å¿…é¡»å…‹éš† (3)ã€åˆ›å»ºIWANè¿æ¥è´¦å· å¯¹è±¡ç®¡ç† â†’ è´¦å·ç®¡ç† â†’ ç»„ç»‡æ¶æ„ï¼š åœ°å€èŒƒå›´ï¼šè¿™ä¸€å—å¯ä»¥è‡ªå·±å®šä¸€ä¸ªå†…ç½‘çš„IPæ®µå°±å¯ä»¥ï¼Œä¸è¦å†²çªå°±å¥½ åœ°å€èŒƒå›´éœ€è¦æŠŠç½‘å…³åœ°å€ç•™å‡ºæ¥ï¼ï¼ï¼ï¼ï¼ å¯¹è±¡ç®¡ç† â†’ è´¦å·ç®¡ç† â†’ æœ¬åœ°è´¦å·ï¼š å¤„ç†ç”¨æˆ·ç»„éœ€è¦é€‰æ‹©å‰é¢åˆ›å»ºçš„ç”¨æˆ·ç»„ï¼Œå…¶ä»–çš„æ ¹æ®å®é™…æƒ…å†µå¡«å†™ (4)ã€åˆ›å»ºiWANæœåŠ¡ åº”ç”¨è·¯ç”± â†’ iWANæœåŠ¡ â†’ æœåŠ¡åˆ—è¡¨ï¼š æ³¨æ„ï¼šæœåŠ¡å™¨ç½‘å…³åœ°å€è¦å’Œä½ å‰é¢è®¾ç½®çš„åœ°å€èŒƒå›´è¦åœ¨ä¸€å—ï¼Œå¹¶ä¸”éœ€è¦æ’é™¤è¿™ä¸ªåœ°å€çš„ä¸‹å‘ åº”ç”¨è·¯ç”± â†’ iWANæœåŠ¡ â†’ æœåŠ¡æ˜ å°„ï¼š æ ¹æ®é…ç½®æƒ…å†µé€‰æ‹©å³å¯ iWANä½¿ç”¨çš„æ˜¯UDPè¿æ¥ï¼Œå› æ­¤ç«¯å£éœ€è¦å¼€æ”¾UDP (5)ã€åˆ›å»ºç­–ç•¥è·¯ç”± åº”ç”¨è·¯ç”± â†’ ç­–ç•¥è·¯ç”±ï¼šéœ€è¦æ·»åŠ ä¸€æ¡å›ç¨‹çš„å…¨ç¨‹è·¯ç”±ï¼Œè¦ä¸ç„¶DNSç‰µå¼•ã€FQéƒ½ä¼šå¤±è´¥ è¿™é‡Œé€‰æ‹©iWANçš„çº¿è·¯ 3ã€å®¢æˆ·ç«¯é…ç½®ï¼ˆåŠå…¬ç½‘ï¼‰ (1)ã€æ–°å»ºWANçº¿è·¯ åº”ç”¨è·¯ç”± â†’ æ¥å£çº¿è·¯ â†’ WANçº¿è·¯ï¼šæŒ‰ç…§ä¿¡æ¯æç¤ºå¡«å†™å³å¯å®ŒæˆiWANçº¿è·¯é…ç½® æ³¨æ„ï¼šå¿…é¡»æœ‰ä¸€ä¸ªå¤–ç½‘çš„ç½‘å¡ï¼Œå¹¶ä¸”æœ€å¥½æŠŠåŠ å¯†å¼€èµ·æ¥ (2)ã€è®¾ç½®DNSç‰µå¼• åº”ç”¨è·¯ç”± â†’ DNSç®¡æ§ï¼šæµ·å¤–åŸŸåæ˜¯ä¸€ä¸ªåŸŸåç¾¤ç»„ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ ä¸»è¦è§£å†³DNSæ±¡æŸ“é—®é¢˜ï¼Œè¦ä¸ç„¶å¯èƒ½éƒ¨åˆ†ç½‘ç«™ä¼šæ— æ³•è®¿é—® è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯ä½ çš„DNSï¼Œè®¿é—®DNSçš„é“¾è·¯å¿…é¡»ç»è¿‡PAï¼Œå¦åˆ™ç‰µå¼•ä¸ä¼šç”Ÿæ•ˆ (3)ã€è®¾ç½®ç­–ç•¥è·¯ç”± åº”ç”¨è·¯ç”± â†’ ç­–ç•¥è·¯ç”±ï¼šæˆ‘è¿™è¾¹ç›´æ¥æ‹¿äº†é£è¿çš„609æµ·å¤–åˆ†æµIPæ®µè¿›è¡Œåˆ†æµï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ï¼ˆæ–‡æœ«ä¸‹è½½ï¼‰ ä¸»è¦ä¸ºäº†åªæœ‰éœ€è¦æµ·å¤–çš„æ‰å‡ºå»ï¼Œä¸èƒ½æŠŠæ‰€æœ‰çš„æµé‡å…¨éƒ¨å¯¼å‡ºå» é™„ä»¶ 169IPæ®µï¼š https://www.</description>
    </item>
    
    <item>
      <title>æ¸…ç†è‡ªå®šä¹‰DHCPä¸‹å‘ï¼Œå¼‚å¸¸æ–­å¼€å¯¼è‡´IPåœ°å€å ç”¨çš„é—®é¢˜</title>
      <link>/2023/02/16/%E6%B8%85%E7%90%86%E8%87%AA%E5%AE%9A%E4%B9%89dhcp%E4%B8%8B%E5%8F%91%E5%BC%82%E5%B8%B8%E6%96%AD%E5%BC%80%E5%AF%BC%E8%87%B4ip%E5%9C%B0%E5%9D%80%E5%8D%A0%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98.html/</link>
      <pubDate>Thu, 16 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/16/%E6%B8%85%E7%90%86%E8%87%AA%E5%AE%9A%E4%B9%89dhcp%E4%B8%8B%E5%8F%91%E5%BC%82%E5%B8%B8%E6%96%AD%E5%BC%80%E5%AF%BC%E8%87%B4ip%E5%9C%B0%E5%9D%80%E5%8D%A0%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98.html/</guid>
      <description>èƒŒæ™¯ å› ä¸ºOpenVpnå­˜åœ¨æ–­å¼€é‡è¿çš„æœºåˆ¶ï¼Œå¦‚æœçªç„¶å‡ºç°ç½‘ç»œæŠ–åŠ¨ï¼Œç”¨æˆ·ç«¯æ²¡æœ‰è§¦å‘æ–­å¼€å‘½ä»¤ï¼Œä½†æ˜¯åŒæ—¶åˆè§¦å‘äº†é‡æ–°è¿æ¥çš„å‘½ä»¤ï¼Œè¿™æ—¶å€™VPNè¿™é‡Œå°±ä¼šé‡æ–°ç»™ä¸‹å‘ä¸€ä¸ªæ–°çš„åœ°å€ï¼Œä½†æ˜¯è€çš„åœ°å€ä¸ä¼šå›æ”¶æ‰ï¼Œè¿™ä¸ªä¹Ÿæ˜¯å¾ˆæ—©ä¹‹å‰DHCPè¢«ç”¨å®Œçš„çœŸæ­£åŸå› 
å¤„ç†æ–¹å¼ åœ¨æ¯ä¸€å°openvpnçš„æœºå™¨ä¸Šæ–°å¢ä¸€ä¸ªshellè„šæœ¬åšå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©ä¸´æ™¨2ç‚¹å¼€å§‹å¾ªç¯éå†
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 #!/bin/bash IFS=$&amp;#39;\n&amp;#39; # ä¿®æ”¹é»˜è®¤åˆ†éš”ç¬¦ OLDIFS=&amp;#34;$IFS&amp;#34; # æ¸…ç†æ— æ•ˆçš„IPåœ°å€ function clearIp(){ # å–å‡ºå½“å‰å·²ç»åˆ†é…ä¸‹å»çš„æ‰€æœ‰IPåœ°å€ result=$(curl -s &amp;#34;åç«¯è·å–å½“å‰ä½¿ç”¨IPçš„æ¥å£åœ°å€&amp;#34;); ipList=`echo $result | jq &amp;#39;.</description>
    </item>
    
    <item>
      <title>zabbix è­¦æŠ¥æ¨é€è‡³ä¼ä¸šå¾®ä¿¡ï¼ˆå›¾æ–‡ç‰ˆï¼‰</title>
      <link>/2023/02/05/zabbix-%E8%AD%A6%E6%8A%A5%E6%8E%A8%E9%80%81%E8%87%B3%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%9B%BE%E6%96%87%E7%89%88.html/</link>
      <pubDate>Sun, 05 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/02/05/zabbix-%E8%AD%A6%E6%8A%A5%E6%8E%A8%E9%80%81%E8%87%B3%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%9B%BE%E6%96%87%E7%89%88.html/</guid>
      <description>æ–°å¢Pythonè„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 # encoding: utf-8 import sys import requests import json import os import time import re url = &amp;#39;http://xx.</description>
    </item>
    
    <item>
      <title>å®‰è£…&amp;ç ´è§£Openvpn Access Server</title>
      <link>/2023/01/05/%E5%AE%89%E8%A3%85%E7%A0%B4%E8%A7%A3openvpn-access-server.html/</link>
      <pubDate>Thu, 05 Jan 2023 00:00:00 +0800</pubDate>
      
      <guid>/2023/01/05/%E5%AE%89%E8%A3%85%E7%A0%B4%E8%A7%A3openvpn-access-server.html/</guid>
      <description>åœ¨çº¿å®‰è£…ï¼ˆéœ€è¦ç¿»å¢™ï¼‰ 1 2 yum -y install https://as-repository.openvpn.net/as-repo-centos7.rpm yum -y install openvpn-as ç®¡ç†å‘˜ç™»å½• é¦–å…ˆéœ€è¦ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
1 passwd openvpn è¾“å…¥ä¹‹åå¯ä»¥ç™»å½•ç®¡ç†å‘˜é¡µé¢äº†ã€‚
å¦‚æœå¯†ç ä¸€ç›´é”™è¯¯çš„è¯ï¼Œè¯´æ˜ä¿®æ”¹å¤±è´¥äº†ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹åŸæ¥çš„å¯†ç æ˜¯ä»€ä¹ˆ
1 cat /usr/local/openvpn_as/init.log ç™»å½•åç‚¹å‡»User Managementâ€“&amp;gt;User Permissions æ·»åŠ ç”¨æˆ·
ç ´è§£ç”¨æˆ·æ•° ä¸»è¦æ“ä½œçš„æ–‡ä»¶æ˜¯ä¸€ä¸ªåå«Â pyovpn-2.0-pyx.x.eggÂ çš„æ–‡ä»¶ï¼Œä»¥æˆ‘äº†è§£çš„æƒ…å†µæ¥çœ‹ï¼Œä»Â 2.5.0Â åˆ°Â 2.9.xÂ æ–‡ä»¶åä¸€ç›´éƒ½æ˜¯è¿™ä¸ªï¼Œåªæ˜¯ä¸åŒç‰ˆæœ¬é‡Œé¢çš„å†…å®¹ä¸ä¸€æ ·. è¿™ä¸ªæ–‡ä»¶æœ‰ç‚¹ç±»ä¼¼Â JavaÂ å½“ä¸­çš„Â jarÂ åº“æ–‡ä»¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªÂ zipÂ å‹ç¼©æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†ä¸€äº›Â PythonÂ çš„å­—èŠ‚ç æ–‡ä»¶. ç ´è§£çš„åŸç†å¤§æ¦‚æ˜¯åœ¨Â PythonÂ ä¸­é‡‡ç”¨ç±»ä¼¼Â JavaÂ åŠ¨æ€ä»£ç†çš„æŠ€æœ¯ï¼Œå°†åŸæœ¬è¯»å–ç”¨æˆ·å±æ€§çš„è°ƒç”¨è¿”å›å€¼æ‹¦æˆªï¼Œä¿®æ”¹ç”¨æˆ·é™åˆ¶æ•°é‡å†è¿”å›. æ–¹æ³• 2.9.0 ä»¥ä¸‹ç‰ˆæœ¬ç ´è§£çš„ç›®æ ‡æ–‡ä»¶æ˜¯ /pyovpn/lic/uprop.pyo, 2.9.0 åŠä»¥ä¸Šæ˜¯ /pyovpn/lic/uprop.pyc; æŒ‰ç…§ç½‘ä¸Šæµè¡Œçš„ç ´è§£æ–¹æ³•ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶è§£å‹å‡ºæ¥å¹¶æ”¹åä¸º uprop2.pyo æˆ– uprop2.pyc, ç„¶åæ–°å»ºä¸€ä¸ª uprop.py æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:
**2.9.0**ä»¥ä¸‹ç‰ˆæœ¬å†…å®¹:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import uprop2 old_figure = None def new_figure(self, licdict): ret = old_figure(self, licdict) ret[&amp;#39;concurrent_connections&amp;#39;] = 1024 return ret for x in dir(uprop2): if x[:2] == &amp;#39;__&amp;#39;: continue if x == &amp;#39;UsageProperties&amp;#39;: exec(&amp;#39;old_figure = uprop2.</description>
    </item>
    
    <item>
      <title>openvpnåŠ¨æ€ä¸‹å‘æƒé™</title>
      <link>/2022/12/14/openvpn%E5%8A%A8%E6%80%81%E4%B8%8B%E5%8F%91%E6%9D%83%E9%99%90.html/</link>
      <pubDate>Wed, 14 Dec 2022 00:00:00 +0800</pubDate>
      
      <guid>/2022/12/14/openvpn%E5%8A%A8%E6%80%81%E4%B8%8B%E5%8F%91%E6%9D%83%E9%99%90.html/</guid>
      <description>é¦–å…ˆäº†è§£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åŠ¨æ€ä¸‹å‘ å¼€æºçš„openvpnå¹¶ä¸æ”¯æŒæƒé™ç®¡ç†ï¼Œå¤§éƒ¨åˆ†åœ¨åšæƒé™ç®¡ç†çš„æ—¶å€™ä½¿ç”¨çš„éƒ½æ˜¯æ ¹æ®æ¥æºIPæˆ–IPæ®µé€šè¿‡iptables/äº¤æ¢æœºæ¥è¿›è¡Œæƒé™æ§åˆ¶ æƒé™æ§åˆ¶å¤ªå¹¿äº†ï¼Œæ ¹æœ¬æ— æ³•å¾ˆå¥½çš„å»åšç®¡ç†åå°çš„é…ç½®ï¼Œç‰¹åˆ«æ˜¯éœ€è¦ç”¨æˆ·ç»„æ¥è¿›è¡ŒåŒºåˆ†çš„æ—¶å€™ï¼Œé‚£å°±æ›´å›°éš¾äº† æƒé™ä¸‹å‘çš„é€»è¾‘ {% plantuml %}
title openvpnè¿æ¥ç¤ºæ„å›¾ ç”¨æˆ· -&amp;gt; openvpn:é€šè¿‡å…¬ç½‘è¿æ¥openvpn openvpn-&amp;gt;openvpn:ä¸‹å‘IPåœ°å€ï¼Œè®¾ç½®åŠ¨æ€æƒé™ openvpn-&amp;gt;ç”¨æˆ·:å®Œæˆè¿æ¥ {% endplantuml %}
ç”¨åˆ°çš„æŠ€æœ¯ ipset iptables ä¸»è¦è„šæœ¬å†…å®¹ è¿æ¥è„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /sbin/ipset create ${common_name}-${common_ip} hash:ip /sbin/ipset create ${common_name}-${common_ip}-drop hash:ip # è¿™é‡Œæ˜¯åŠ¨æ€å»ä½ çš„åç«¯è·å–å‡ºæ¥çš„å…è®¸è®¿é—®çš„åˆ—è¡¨ï¼Œæ¥å£è‡ªå·±å»å®ç° for index in `seq 0 $permissionsAcceptLength`; do /sbin/ipset add ${common_name}-${common_ip} ${permissionsAccept[$index]//\&amp;#34;/} done for index in `seq 0 $permissionsDropLength`; do /sbin/ipset add ${common_name}-${common_ip}-drop ${permissionsDrop[$index]//\&amp;#34;/} done # è®¾ç½®iptables /sbin/iptables -A FORWARD -s $common_ip -m set --match-set ${common_name}-${common_ip} dst -j ACCEPT /sbin/iptables -A FORWARD -s $common_ip -m set --match-set ${common_name}-${common_ip}-drop dst -j DROP /sbin/iptables -A FORWARD -s $common_ip -j DROP æ–­å¼€è„šæœ¬ 1 2 3 4 5 /sbin/iptables -D FORWARD -s $ifconfig_pool_remote_ip -m set --match-set ${common_name}-${ifconfig_pool_remote_ip} dst -j ACCEPT /sbin/iptables -D FORWARD -s $ifconfig_pool_remote_ip -m set --match-set ${common_name}-${ifconfig_pool_remote_ip}-drop dst -j DROP /sbin/iptables -D FORWARD -s $ifconfig_pool_remote_ip -j DROP /sbin/ipset destroy ${common_name}-${ifconfig_pool_remote_ip} /sbin/ipset destroy ${common_name}-${ifconfig_pool_remote_ip}-drop å¦‚æœåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­å‡ºç°è„šæœ¬æƒé™ä¸è¶³ 1 2 3 chmod 766 connect.</description>
    </item>
    
    <item>
      <title>openvpn-authï¼ˆæ”¯æŒä¼ä¸šå¾®ä¿¡è®¤è¯&amp;LDAPï¼‰</title>
      <link>/2022/12/13/openvpn-auth%E6%94%AF%E6%8C%81%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E8%AE%A4%E8%AF%81ldap.html/</link>
      <pubDate>Tue, 13 Dec 2022 00:00:00 +0800</pubDate>
      
      <guid>/2022/12/13/openvpn-auth%E6%94%AF%E6%8C%81%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E8%AE%A4%E8%AF%81ldap.html/</guid>
      <description>æ–¹æ¡ˆä»‹ç» æ—¶åºå›¾ openvpn-auth æ—¶åºå›¾ å…¶ä¸­æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ corpid: ä¼ä¸šå¾®ä¿¡çš„ä¼ä¸šID corpsecret: æ‹¥æœ‰é€šè®¯å½•çš„ä¼ä¸šå¾®ä¿¡çš„Secret ä»£ç å¦‚ä¸‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 package auth import ( &amp;#34;io/ioutil&amp;#34; &amp;#34;log&amp;#34; &amp;#34;net/http&amp;#34; &amp;#34;strconv&amp;#34; &amp;#34;github.com/tidwall/gjson&amp;#34; ) func GetAccessToken() string { return GetWecomToken() } // ä»ä¼ä¸šå¾®ä¿¡è·å–Token func GetWecomToken() string { //åˆ›å»ºä¸€ä¸ªè¯·æ±‚ req, err := http.</description>
    </item>
    
  </channel>
</rss>
